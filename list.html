<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Citation Gardens #9 Podcasts</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.css" rel="stylesheet">

    <!-- Custom CSS for the '3 Col Portfolio' Template -->
    <link href="css/portfolio-item.css" rel="stylesheet">

    <style>
      #sort-by {
        padding: 4px 10px;
        border: 1px solid #ccc;
        border-radius: 4px;
        font-size: 1.2rem;
        background-color: #fff;
        /* optional custom arrow */
        appearance: none;
        background-image: url("data:image/svg+xml,…");
        background-repeat: no-repeat;
        background-position: right 8px center;
      }
      /* Spacing for #episode-list rows */
      #episode-list .episode-card:nth-child(n+5) {
        margin-top: 20px;
      }
      /* Spacing for placeholder rows below <hr> */
      .container:nth-of-type(2) .row:nth-child(2) .episode-card {
        margin-top: 20px;
      }
    </style>	
  </head>

  <body>
    <nav class="navbar navbar-fixed-top navbar-inverse" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.html">Home</a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
          <ul class="nav navbar-nav">
            <li><a href="list.html">Episode List</a></li>
            <!-- <li><a href="contact.html">Contact</a></li> -->
          </ul>
        </div>
      </div>
    </nav>

    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <h1 class="page-header">All Episodes - 2025</h1>

          <!-- sort control -->
          <div style="margin:12px 0;">
            <label for="sort-by">Sort by:</label>
            <select id="sort-by" style="display:inline-block; margin-left:8px;">
              <option value="title-desc" selected>Newest → Oldest</option>
              <option value="title-asc">Oldest → Newest</option>
            </select>
          </div>
        </div>
      </div>

      <!-- unified episode row -->
      <div id="episode-list" class="row">
        <div class="col-sm-3 col-xs-6 episode-card" data-title="Episode #9" align="center">
          <a style="color:#333333" href="https://youtu.be/4J-h0L_RfQA" target="_blank">
            <img class="img-responsive portfolio-item"
                 src="./images/Citation Gardens 9 Podcast Episode 9.png"
                 width="300" height="300">
            <strong>Episode #9</strong>
          </a>
        </div>

        <div class="col-sm-3 col-xs-6 episode-card" data-title="Episode #8" align="center">
          <a style="color:#333333" href="https://youtu.be/--hiWcHL6iQ" target="_blank">
            <img class="img-responsive portfolio-item"
                 src="./images/Citation Gardens 9 Podcast Episode 8.png"
                 width="300" height="300">
            <strong>Episode #8</strong>
          </a>
        </div>

        <div class="col-sm-3 col-xs-6 episode-card" data-title="Episode #7" align="center">
          <a style="color:#333333" href="https://youtu.be/A5XTSOHKDPY" target="_blank">
            <img class="img-responsive portfolio-item"
                 src="./images/Citation Gardens 9 Podcast Episode 7.png"
                 width="300" height="300">
            <strong>Episode #7</strong>
          </a>
        </div>

        <div class="col-sm-3 col-xs-6 episode-card" data-title="Episode #6" align="center">
          <a style="color:#333333" href="https://youtu.be/Kd8BDR1xcUQ" target="_blank">
            <img class="img-responsive portfolio-item"
                 src="./images/Citation Gardens 9 Podcast Episode 6.png"
                 width="300" height="300">
            <strong>Episode #6</strong>
          </a>
        </div>

        <div class="col-sm-3 col-xs-6 episode-card" data-title="Episode #5" align="center">
          <a style="color:#333333" href="https://youtu.be/_diVrYdNKjk" target="_blank">
            <img class="img-responsive portfolio-item"
                 src="./images/Citation Gardens 9 Podcast Episode 5.png"
                 width="300" height="300">
            <strong>Episode #5</strong>
          </a>
        </div>

        <div class="col-sm-3 col-xs-6 episode-card" data-title="Episode #4" align="center">
          <a style="color:#333333" href="https://youtu.be/t80t0RDpDbw" target="_blank">
            <img class="img-responsive portfolio-item"
                 src="./images/Citation Gardens 9 Podcast Episode 4.png"
                 width="300" height="300">
            <strong>Episode #4</strong>
          </a>
        </div>

        <div class="col-sm-3 col-xs-6 episode-card" data-title="Episode #3" align="center">
          <a style="color:#333333" href="https://youtu.be/qllbBU6zgts" target="_blank">
            <img class="img-responsive portfolio-item"
                 src="./images/Citation Gardens 9 Podcast Episode 3.png"
                 width="300" height="300">
            <strong>Episode #3</strong>
          </a>
        </div>

        <div class="col-sm-3 col-xs-6 episode-card" data-title="Episode #2" align="center">
          <a style="color:#333333" href="https://youtu.be/1i9WBgQpQos" target="_blank">
            <img class="img-responsive portfolio-item"
                 src="./images/Citation Gardens 9 Podcast Episode 2.jpg"
                 width="300" height="300">
            <strong>Episode #2</strong>
          </a>
        </div>
      </div><!-- /#episode-list -->
    </div><!-- /.container -->

    <hr><br><!-- /new set of 2 rows below here -->

    <div class="container">
      <!-- First Row (Placeholders) -->
      <div class="row">
        <div class="col-sm-3 col-xs-6 episode-card" data-title="Episode #1" align="center">
          <a style="color:#333333" href="https://youtu.be/yU4_wighILY" target="_blank">
            <img class="img-responsive portfolio-item"
                 src="./images/Citation Gardens 9 Podcast Episode 1.png"
                 width="300" height="300">
            <strong>Episode #1</strong>
          </a>
        </div>
        <div class="col-sm-3 col-xs-6 episode-card" data-title="Placeholder" align="center">
          <img class="img-responsive portfolio-item"
               src="./images/Citation Gardens 9 Podcast - Place Holder.png"
               width="300" height="300">
          <strong>Coming Soon</strong>
        </div>
        <div class="col-sm-3 col-xs-6 episode-card" data-title="Placeholder" align="center">
          <img class="img-responsive portfolio-item"
               src="./images/Citation Gardens 9 Podcast - Place Holder.png"
               width="300" height="300">
          <strong>Coming Soon</strong>
        </div>
        <div class="col-sm-3 col-xs-6 episode-card" data-title="Placeholder" align="center">
          <img class="img-responsive portfolio-item"
               src="./images/Citation Gardens 9 Podcast - Place Holder.png"
               width="300" height="300">
          <strong>Coming Soon</strong>
        </div>
      </div>

      <!-- Second Row (Placeholders) -->
      <div class="row">
        <div class="col-sm-3 col-xs-6 episode-card" data-title="Placeholder" align="center">
          <img class="img-responsive portfolio-item"
               src="./images/Citation Gardens 9 Podcast - Place Holder.png"
               width="300" height="300">
          <strong>Coming Soon</strong>
        </div>
        <div class="col-sm-3 col-xs-6 episode-card" data-title="Placeholder" align="center">
          <img class="img-responsive portfolio-item"
               src="./images/Citation Gardens 9 Podcast - Place Holder.png"
               width="300" height="300">
          <strong>Coming Soon</strong>
        </div>
        <div class="col-sm-3 col-xs-6 episode-card" data-title="Placeholder" align="center">
          <img class="img-responsive portfolio-item"
               src="./images/Citation Gardens 9 Podcast - Place Holder.png"
               width="300" height="300">
          <strong>Coming Soon</strong>
        </div>
        <div class="col-sm-3 col-xs-6 episode-card" data-title="Placeholder" align="center">
          <img class="img-responsive portfolio-item"
               src="./images/Citation Gardens 9 Podcast - Place Holder.png"
               width="300" height="300">
          <strong>Coming Soon</strong>
        </div>
      </div>
    </div><!-- /.container -->

    <div class="container">
      <footer>
        <div class="row">
          <div class="col-lg-12">
            <p>Copyright &copy; 2025 Citation Gardens #9</p>
          </div>
        </div>
      </footer>
    </div><!-- /.container -->

    <!-- JavaScript -->
    <script src="js/jquery-1.10.2.js"></script>
    <script src="js/bootstrap.js"></script>

    <!-- Sorting script -->
    <script>
      (function() {
        const list = document.getElementById('episode-list');
        const placeholderRow = document.querySelector('.container:nth-of-type(2) .row:nth-child(1)');
        const select = document.getElementById('sort-by');

        // Store clones of all episodes and a placeholder
        const episodeClones = {};
        Array.from(list.children).forEach(card => {
          episodeClones[card.dataset.title] = card.cloneNode(true);
        });
        Array.from(placeholderRow.children).forEach(card => {
          if (!episodeClones[card.dataset.title]) {
            episodeClones[card.dataset.title] = card.cloneNode(true);
          }
        });

        select.addEventListener('change', () => {
          // 1) Store initial positions for FLIP animation
          const cards = Array.from(list.children);
          const firstPos = new Map(cards.map(card => [card.dataset.title, card.getBoundingClientRect()]));

          // 2) Collect all episodes dynamically
          const episodes = Object.keys(episodeClones)
            .filter(title => title.startsWith('Episode #'))
            .map(title => episodeClones[title].cloneNode(true));

          // 3) Sort episodes
          const [field, order] = select.value.split('-');
          episodes.sort((a, b) => {
            let va = a.dataset[field].match(/#(\d+)/) ? parseInt(a.dataset[field].match(/#(\d+)/)[1]) : 0;
            let vb = b.dataset[field].match(/#(\d+)/) ? parseInt(b.dataset[field].match(/#(\d+)/)[1]) : 0;
            return order === 'asc' ? va - vb : vb - va;
          });

          // 4) Update DOM based on sort order
          list.innerHTML = ''; // Clear episode list
          placeholderRow.innerHTML = ''; // Clear first placeholder row

          // Always take first 8 episodes for #episode-list, last one for placeholder
          const listEpisodes = episodes.slice(0, Math.min(8, episodes.length));
          const placeholderEpisode = episodes[episodes.length - 1];

          listEpisodes.forEach(card => list.appendChild(card));
          if (placeholderEpisode) {
            placeholderRow.appendChild(placeholderEpisode.cloneNode(true));
          }
          for (let i = 0; i < 3; i++) {
            placeholderRow.appendChild(episodeClones['Placeholder'].cloneNode(true));
          }

          // 5) FLIP animation for #episode-list
          const newCards = Array.from(list.children);
          newCards.forEach(card => {
            const first = firstPos.get(card.dataset.title);
            if (first) {
              const last = card.getBoundingClientRect();
              const dx = first.left - last.left;
              const dy = first.top - last.top;
              if (dx || dy) {
                card.style.transition = 'none';
                card.style.transform = `translate(${dx}px, ${dy}px)`;
                card.getBoundingClientRect(); // Force reflow
                card.style.transition = 'transform 300ms ease';
                card.style.transform = '';
              }
            }
          });
        });
      })();
    </script>
  </body>
</html>